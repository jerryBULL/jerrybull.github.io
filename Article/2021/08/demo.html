<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Jerry的學習筆記</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="/Content/img/favicon.ico" type="image/x-icon">
        <!-- jquery-confirm start -->
        <link rel="stylesheet" href="/Content/css/lib/jquery-confirm/bundled.css" />
        <link rel="stylesheet" href="/Content/css/lib/jquery-confirm/jquery-confirm.min.css" />
        <!-- jquery-confirm end -->
        <!-- jquery-ui start -->
        <link rel="stylesheet" href="/Content/css/lib/jquery-ui/jquery-ui.structure.min.css" />
        <link rel="stylesheet" href="/Content/css/lib/jquery-ui/jquery-ui.theme.min.css" />
        <!-- jquery-ui end -->
        <link rel="stylesheet" href="/Content/css/common.css" />
        <link rel="stylesheet" href="/Content/css/style.css" />

        <script src="/Content/js/lib/vue.js"></script>
        <script src="/Content/js/lib/jquery-3.5.1.min.js"></script>
        <script src="/Content/js/lib/jquery-confirm/jquery-confirm.min.js"></script>
        <script src="/Content/js/lib/jquery-ui/jquery-ui.min.js"></script>
        <script src="/Content/js/Function.js"></script>
        <script src="/Content/js/ArticleList/ArticleList.js"></script>
        <script src="/Content/js/ArticleList/ArticleTag.js"></script>
        <script src="/Content/js/ArticleList/ArticleFuntion.js"></script>
    </head>
    <body>
        <header>
            <div class="header__title">
                <a href="/index.html" class="header__title-heading1">Jerry的學習筆記</a>
                <p class="header__title-heading2">每天都比前一天進步一點點</p>
            </div>
            <div class="header__nav">
                <ul>
                    <li><a href="/index.html">Home</a></li>
                    <li><a href="/Article.html">Article</a></li>
                    <li><a href="/About.html">About</a></li>
                </ul>
            </div>
        </header>
        <div class="body" v-cloak>
            <div class="content">
                <div class="article">
                    <a class="article__title">{{ CurrentArticle.title }}</a>
                    <hr class="article__line">
                    <div class="article__info">
                        <span class="article__info-time">{{ CurrentArticle.create_time }}</span>
                        <ul class="article__info-tag">
                            <li v-for="tag in CurrentArticle.tag">
                                <a>{{ ArticleTag[tag] }}</a>
                            </li>
                        </ul>
                    </div>
                    <img :src="CurrentArticle.img_route" class="article__img">
                </div>
            </div>
            <div class="sidebar">
                <div class="sidebar-box">
                    <p class="sidebar-box__title">最新文章</p>
                    <hr class="sidebar-box__line">
                    <ul>
                        <li v-for="article in LatestArticle">
                            <a :href="article.article_route" class="sidebar-box__article-title">{{ article.title }}</a>
                        </li>
                    </ul>
                </div>
                <div class="sidebar-box">
                    <p class="sidebar-box__title">標籤</p>
                    <hr class="sidebar-box__line">
                    <a class="sidebar-box__tag" v-for="(val,key) in ArticleTag" @Click="ShowTagArticle(key)">{{ val }}</a>
                </div>
            </div>
        </div>
        <footer>
            <p>© 2021<a href="/index.html">Jerry的學習筆記</a></p>
            <ul class="footer-ul">
                <li>
                    <a href="https://github.com/jerryBULL"><span class="fa fa-github"></span></a>
                </li>
            </ul>
        </footer>
        <span class="rocket-icon icon rocket--js"></span>

        <script>
            $(function(){
                let body = new Vue({
                    el:".body",
                    data:function(){
                        return{
                            LatestArticle:[],
                            //
                            ArticleTag:ArticleTag,
                            Article:Article,
                            CurrentArticle:Article["Demo"]
                        }
                    },
                    mounted(){
                        this.GetLatestArticle();
                    },
                    methods: {
                        ShowTagArticle(tag){

                        },
                        GetLatestArticle(){
                            var v_this   = this;
                            var articles = v_this.Article;
                            //最新文章
                            latest_article = [];
                            for(article in articles){
                                latest_article.push(articles[article]);
                            }

                            for (let i = 0; i < latest_article.length; i++) {
                                for (let j = 0; j < latest_article.length-1; j++) {
                                    if(latest_article[j]["create_time"] < latest_article[j+1]["create_time"]) {
                                        let temp = latest_article[j]
                                        latest_article[j] = latest_article[j+1];
                                        latest_article[j+1] = temp;
                                    }
                                }
                            }
                            latest_article.splice(5,latest_article.length-5);
                            v_this.LatestArticle = latest_article;
                        },
                    }
                })
            })
        </script>
    </body>
</html>